version: "3.9"

services:

  router:
    build:
      context: ./router
      dockerfile: Dockerfile
    container_name: router
    privileged: true
    entrypoint: ["/startup.sh"]
    command: ["sleep", "infinity"]
    tty: true

  firewall:
    build:
      context: ./firewall
      dockerfile: Dockerfile
    container_name: firewall
    privileged: true
    entrypoint: ["/startup.sh"]
    command: ["sleep", "infinity"]
    tty: true

  attacker:
    build:
      context: ./attacker
      dockerfile: Dockerfile
    container_name: attacker
    privileged: true
    entrypoint: ["/startup.sh"]
    command: ["sleep", "infinity"]
    tty: true

  victim:
    build:
      context: ./victim
      dockerfile: Dockerfile
    container_name: victim
    ports:
      - "8081:80"
    entrypoint: ["/startup.sh"]
    command: ["sleep", "infinity"]
    tty: true

  victim1:
    build:
      context: ./victim
      dockerfile: Dockerfile
    container_name: victim1
    ports:
      - "8082:80"
    entrypoint: ["/startup.sh"]
    command: ["sleep", "infinity"]
    tty: true

  victim2:
    build:
      context: ./victim
      dockerfile: Dockerfile
    container_name: victim2
    ports:
      - "8083:80"
    entrypoint: ["/startup.sh"]
    command: ["sleep", "infinity"]
    tty: true